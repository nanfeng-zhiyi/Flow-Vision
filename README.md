# Flow-Vision: 道路交通流量预测系统

Flow-Vision是一个基于Django的交通流量预测与可视化系统，利用先进的图神经网络(GNN)技术对道路交通流量进行建模和预测。系统集成了多种图神经网络模型，通过捕捉道路网络的空间依赖关系，提供高精度的交通流量预测。

## 项目概述

交通流量预测对城市规划、交通管理和智慧城市建设具有重要意义。Flow-Vision利用图神经网络的强大能力，将道路网络建模为图结构，节点代表交通传感器位置，边代表道路连接关系。通过分析历史交通数据，系统能够预测未来时段的交通流量，为交通管理决策提供数据支持。

## 技术栈

- **后端框架**: Django
- **前端技术**: HTML, CSS, JavaScript
- **数据分析**: NumPy, Pandas
- **深度学习**: PyTorch
- **数据可视化**: Matplotlib
- **数据集**: PEMS交通数据集

## 核心功能

1. **多模型预测**：实现了三种不同的图神经网络模型
   - 图卷积网络(GCN)
   - 切比雪夫图卷积网络(ChebNet)
   - 图注意力网络(GAT)

2. **交通流量可视化**：直观展示历史和预测的交通流量数据

3. **模型性能评估**：使用多种评估指标(MAE, RMSE, MAPE)衡量预测精度

## 模型架构

### 图卷积网络(GCN)
基于谱图理论的卷积操作，通过聚合相邻节点信息进行特征提取，能够有效捕捉局部空间依赖关系。

### 切比雪夫图卷积网络(ChebNet)
使用切比雪夫多项式逼近图卷积操作，能够捕获更广范围的图结构信息，不仅限于直接相连节点。

### 图注意力网络(GAT)
引入注意力机制，为不同的邻居节点分配不同的权重，增强模型对重要交通关系的识别能力。

## 数据处理流程

1. **数据加载**: 读取PEMS交通数据集和道路网络拓扑结构
2. **数据预处理**: 数据清洗、归一化和时间窗口划分
3. **模型训练**: 使用历史数据训练图神经网络模型
4. **预测与评估**: 在测试集上进行预测并计算评估指标
5. **结果可视化**: 生成交通流量预测图表并展示在前端界面

## 安装与部署

### 环境要求
- Python 3.7+
- Django 3.2+
- PyTorch 1.8+
- NumPy, Pandas, Matplotlib

### 安装步骤

1. 克隆项目到本地
   ```
   git clone <项目仓库URL>
   ```

2. 安装依赖
   ```
   pip install -r requirements.txt
   ```

3. 运行Django服务器
   ```
   python manage.py runserver
   ```

4. 访问系统
   ```
   http://localhost:8000
   ```

## 使用指南

1. **数据选择**: 在首页选择要分析的数据集和时间段
2. **模型配置**: 选择需要使用的预测模型(GCN, ChebNet, GAT)
3. **执行预测**: 点击"开始预测"按钮执行交通流量预测
4. **结果查看**: 系统会生成交通流量预测图表，可查看预测结果
5. **评估分析**: 查看模型性能指标，分析预测精度

## 项目结构

```
djangoProjectForVisualization/
├── app1/                          # 主应用目录
│   ├── TrafficPrediction/         # 交通预测核心模块
│   │   ├── assets/                # 静态资源
│   │   ├── dataset/               # 数据集目录
│   │   ├── params/                # 模型参数
│   │   └── src/                   # 源代码
│   │       ├── data_loader.py     # 数据加载
│   │       ├── model.py           # 模型定义
│   │       ├── metrics.py         # 评估指标
│   │       ├── traffic_prediction.py # 预测实现
│   │       └── visualize_dataset.py # 数据可视化
│   ├── api/                       # API接口
│   ├── views.py                   # 视图函数
│   └── urls.py                    # URL配置
├── djangoProjectForVisualization/ # 项目配置
├── media/                         # 媒体文件
├── templates/                     # HTML模板
└── manage.py                      # Django管理脚本
```

## 未来规划

1. 集成更多先进的图神经网络模型
2. 支持实时交通数据的接入和处理
3. 增强交互式可视化功能
4. 提供交通异常检测和预警功能
5. 开发移动端应用，提供随时随地的交通预测服务

